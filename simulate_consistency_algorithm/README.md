# 分布式一致性算法模拟器

这个项目实现了一个简单的分布式一致性算法模拟器,用于比较Raft和Paxos算法在不同场景下的性能表现。

## 功能特点

- 模拟Raft和Paxos两种分布式一致性算法
- 支持强一致性和最终一致性两种模式
    * 证明强一致性的3副本延时基本是最终一致性的2倍
    * 证明2副本强一致性延时也略大于3副本最终一致性
    * 最终一致性扛网络异常延时的能力也远大于强一致性
- 可配置副本数量、网络延迟和异步延迟
- 提供多种场景下的性能比较

### 3副本强一致性与最终一致性延时差异原理

3副本, 核心特性是3个请求的处理延时是符合随机模型的. 然后其每次取最大值, 即为三副本的延时, 第二大值就是最终一致性延时


## 使用方法

1. 确保您的系统已安装Python 3.x。

2. 克隆或下载本项目到本地。

3. 在命令行中进入项目目录,运行以下命令:
   ```
   python raft_simulator.py
   ```

4. 程序将输出不同场景下Raft和Paxos算法的平均响应时间。

## 自定义模拟

您可以通过修改`raft_simulator.py`文件底部的`simulate`函数调用来自定义模拟参数:


参数说明:
- `algorithm`: 选择 "raft" 或 "paxos"
- `num_replicas`: 副本数量
- `consistency_level`: 选择 "strong" (强一致性) 或 "eventual" (最终一致性)
- `num_operations`: 操作次数 (默认100)
- `network_delay`: 网络延迟 (秒)
- `async_delay`: 异步延迟 (秒)

## 示例输出

程序将输出类似以下的结果:
```
Raft算法:
3副本(强一致性)平均响应时间: 0.035190813541412354
3副本(最终一致性)平均响应时间: 0.021413886547088624
2副本(强一致性)平均响应时间: 0.023526413440704344
单副本平均响应时间: 0.011612899303436279

Paxos算法:
3副本(强一致性)平均响应时间: 0.03592357158660889
3副本(最终一致性)平均响应时间: 0.021306717395782472
2副本(强一致性)平均响应时间: 0.023980484008789063
单副本平均响应时间: 0.011875088214874268

使用自定义延时参数:  (证明强一致性扛干扰的能力较差)
Raft (高网络延迟): 0.040299386978149415
Raft (2副本高网络延迟): 2.007029662132263
Paxos (高网络延迟): 0.00865684986114502
Paxos (2副本高网络延迟): 2.0132529973983764
```